---
layout: post
title: "Fixing my Task Manager App"
date: 2020-04-24 23:40:00 +0100
categories: programming
---

<a href="https://github.com/Ross117/task-management-app">Github repo</a>

I had been using an SQL Server database hosted on Azure to store data for a web-based to do app, however my free 12 months had run out and I needed to switch to another free service. There were two main tasks: set up a new database for my Task Manager app, and then refactor the app’s code to connect to the new database. This project ended up taking me quite a few hours, mainly because I went down several interesting side paths and tried to learn (or re-learn) something about all the topics which I covered. 

I chose to switch to a Heroku Postgres database because after a bit of research it seemed like the best choice. It’s an SQL database like the one I’d been using before, and it’ll be free forever as long as I stay within certain limits in terms of how much data I store. I learned how to set up and administer the database by following <a href="https://medium.com/@vapurrmaid/getting-started-with-heroku-postgres-and-pgadmin-run-on-part-2-90d9499ed8fb">this excellent Medium article</a>. I used pgAdmin, a GUI for Postgres, to set up the database tables. I also got a reintroduction to using the command line and associated concepts like environmental variables (especially PATH), which inspired me to read up on using Bash. One basic thing which I got stuck on for a bit was connecting to Postgres through the terminal. I struggled to work out how to pass in my security credentials, but I solved the problems eventually through a combination of web searching, reading the documentation, and trial and error. I wasn’t strictly necessary to the project for me to do this, but it was something which I wanted to do in order to feel like I had a better understanding of the tools I was using. I didn’t choose to make a local development version of the database at this point because I wanted to focus on getting my app back up and running again, but it is something that I want to return to in the future.

Once I had set the database up and created the two tables which my app needed, I switched my attention to the code. I first made sure that I had the latest versions of NodeJS and npm installed (I ended up using a Node Version Manager called nvm). I then got a refresher in Git as I got my branches ready for refactoring (I had been working on adding a suite of tests to the Client side, and I wanted to merge that work into the master branch). I’ve always enjoyed using Git, and I feel like I have a decent understanding of it. Next came a chance to relearn some basics of NodeJS (including Node environment variables) and of the Express framework to make sure that I understood how the app worked. I installed the pg npm package which enables a connection to a Postgres database and worked out how to integrate it into my app’s server side code. The first thing I wanted to do was simply establish a connection with the remote database through my code. After an issue with an error relating to the remote database server’s SSL certificate, which I solved through another web search, I managed to get the connection working. From then on it was a question of adapting my server’s routing files and my React client side code. For the latter it was simply a question of changing the code to reflect that Task data now comes through as objects rather than arrays. Postman came in very useful for testing HTTP requests and responses (I was also able to get a refresher in HTTP). Once I had adapted the code and deployed it to Heroku (where I’m also hosting my app), the app was working again.

As you may have gathered, I feel like fixing this app acted as a good chance to refresh myself on some technologies which I haven’t used for a few months, and to learn some new things like how to work with a Postgres database. I enjoyed all the learning and relearning. It was also important to me to get the app working again because it’s part of my portfolio. It felt good when I finally achieved this. However, even though it’s now working, the front end of the app especially needs a lot more work and is another project in itself. In fact an unknown user of the app brought this home to me by posting a task with the title ‘This is a React App’ and the description ‘It needs work’!
